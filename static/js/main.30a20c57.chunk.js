(this["webpackJsonpcoin-exchange"]=this["webpackJsonpcoin-exchange"]||[]).push([[0],{13:function(e,n,c){},15:function(e,n,c){},16:function(e,n,c){},17:function(e,n,c){"use strict";c.r(n);var t=c(0),r=c(1),a=c.n(r),i=c(7),s=c.n(i),o=(c(13),c(2)),u=c.n(o),l=c(5),h=c(3),j=c(4);c(15);function b(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"$",t=Number(e).toFixed(n);return"".concat(c).concat(t)}function d(e){return Object(t.jsxs)("tr",{children:[Object(t.jsx)("td",{children:e.name}),Object(t.jsx)("td",{children:e.ticker}),e.showBalance?Object(t.jsx)("td",{children:e.balance}):null,Object(t.jsx)("td",{children:b(e.price)}),Object(t.jsx)("td",{children:Object(t.jsx)("button",{onClick:function(){return e.refreshPrice(e.id)},children:"Refresh"})})]})}function f(e){return Object(t.jsxs)("table",{children:[Object(t.jsx)("thead",{children:Object(t.jsxs)("tr",{children:[Object(t.jsx)("th",{children:"Name"}),Object(t.jsx)("th",{children:"Ticker"}),e.showBalance?Object(t.jsx)("th",{children:"Balance"}):null,Object(t.jsx)("th",{children:"Price"})]})}),Object(t.jsx)("tbody",{children:e.coins.map((function(n){var c=n.id,r=n.name,a=n.ticker,i=n.balance,s=n.price;return Object(t.jsx)(d,{id:c,name:r,ticker:a,balance:i,price:s,showBalance:e.showBalance,refreshPrice:e.refreshPrice},c)}))})]})}var p=c.p+"static/media/logo.6ce24c58.svg";function O(){return Object(t.jsxs)("header",{className:"App-header",children:[Object(t.jsx)("img",{src:p,className:"App-logo",alt:"logo"}),Object(t.jsx)("h1",{children:"Coin Exchange"})]})}c(16);function x(e){return Object(t.jsxs)("section",{className:"account-balance",children:[Object(t.jsxs)("button",{onClick:e.handleShowBalance,children:[e.showBalance?"Hide ":"Show"," Balance"]}),Object(t.jsx)("span",{className:"balance-amount",children:e.showBalance?"$".concat(e.amount):""})]})}var m="https://api.coinpaprika.com/v1";var v=function(){var e=Object(r.useState)(1e4),n=Object(j.a)(e,2),c=n[0],a=(n[1],Object(r.useState)(!0)),i=Object(j.a)(a,2),s=i[0],o=i[1],b=Object(r.useState)([]),d=Object(j.a)(b,2),p=d[0],v=d[1],w=function(e){return fetch("".concat(m,"/ticker/").concat(e)).then((function(e){return e.json()}))},g=function(){var e=Object(h.a)(u.a.mark((function e(n){var c,t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(n.map((function(e){return w(e.id)})));case 2:c=e.sent,t=n.map((function(e,n){return Object(l.a)(Object(l.a)({},e),{},{price:Number(c[n].price_usd)})})),v(t);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(){var e=Object(h.a)(u.a.mark((function e(n){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(n).then((function(e){var c=p.map((function(c){var t=Object(l.a)({},c);return c.id===n&&(t.price=Number(e.price_usd)),t}));v(c)}));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),B=function(){var e=Object(h.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(m,"/coins")).then((function(e){return e.json()})).then((function(e){var n=e.splice(0,10).map((function(e){return{id:e.id,name:e.name,ticker:e.symbol,balance:0,price:0}}));v(n),g(n)})).catch((function(e){return console.log("Get all coins error:",e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)((function(){0===p.length&&B()})),Object(t.jsxs)("div",{className:"App",children:[Object(t.jsx)(O,{}),Object(t.jsx)(x,{amount:c,showBalance:s,handleShowBalance:function(){o(!s)}}),Object(t.jsx)(f,{coins:p,showBalance:s,refreshPrice:k})]})},w=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,18)).then((function(n){var c=n.getCLS,t=n.getFID,r=n.getFCP,a=n.getLCP,i=n.getTTFB;c(e),t(e),r(e),a(e),i(e)}))};s.a.render(Object(t.jsx)(a.a.StrictMode,{children:Object(t.jsx)(v,{})}),document.getElementById("root")),w()}},[[17,1,2]]]);
//# sourceMappingURL=main.30a20c57.chunk.js.map
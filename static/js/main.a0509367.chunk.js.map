{"version":3,"sources":["components/Coin/Coin.jsx","images/refresh.png","components/Coins/Coins.jsx","components/Header/Header.jsx","App.js","reportWebVitals.js","index.js"],"names":["Coin","props","formatedPrice","Intl","NumberFormat","style","currency","format","price","className","ticker","toLowerCase","name","showBalance","balance","role","src","alt","onClick","refreshPrice","id","Coins","formatter","formatedBalance","type","placeholder","onChange","filterCoins","coins","map","Header","Navbar","bg","variant","Brand","href","Toggle","aria-controls","Collapse","Nav","FormCheck","checked","handleShowBalance","label","api","App","useState","setBalance","setShowBalance","initialCoins","setInitialCoins","setCoins","getCoinById","coinId","fetch","then","response","json","updateCoinPrices","a","topCoins","slice","restCoins","Promise","all","coin","prices","updatedCoins","index","Number","price_usd","balances","reduce","b","coinData","newCoin","componentDidMount","data","symbol","catch","err","console","log","useEffect","length","event","keyword","target","value","trim","filteredCoins","filter","includes","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a0509367.chunk.js","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types';\r\nimport refreshIcon from '../../images/refresh.png';\r\nimport './Coin.css';\r\n\r\nexport default function Coin(props) {\r\n  const formatter = Intl.NumberFormat('es-US', {\r\n    style: 'currency',\r\n    currency: 'USD'\r\n  });\r\n  const formatedPrice = formatter.format(props.price);\r\n\r\n  return (\r\n    <tr>\r\n      <td>\r\n        <div className=\"d-flex\">\r\n          <div className=\"d-flex justify-content-center coin-icon-container\">\r\n            <i className={`crypto crypto-${props.ticker.toLowerCase()} coin-icon`}></i>\r\n          </div>\r\n          <div>\r\n            <p className=\"coin-ticker\">{ props.ticker }</p>\r\n            <p className=\"coin-name\">{ props.name }</p>\r\n          </div>\r\n        </div>\r\n      </td>\r\n\r\n      <td>\r\n        <p className=\"text-right m-0\">\r\n          { props.showBalance ? props.balance : null }\r\n        </p>\r\n          \r\n      </td>\r\n\r\n      <td>\r\n        <p className=\"text-right m-0\">\r\n          { formatedPrice }\r\n        </p>\r\n      </td>\r\n\r\n      <td>\r\n        <div className=\"text-right pl-2 pr-2\">\r\n          <img role=\"button\" src={refreshIcon} alt=\"Refresh\" onClick={() => props.refreshPrice(props.id)}/>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  )\r\n}\r\n\r\nCoin.propTypes = {\r\n  id: PropTypes.string,\r\n  name: PropTypes.string,\r\n  ticker: PropTypes.string,\r\n  balance: PropTypes.number,\r\n  price: PropTypes.number\r\n}\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAApwAAAKcBDzod3AAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAALbSURBVEiJpZZLSFRRGMd/35mspIdDEUERtagWCS2CSFoVPYnUxCwQA6O0lzWQBukgZpM9SCOzopwIKVqkCx9FkUUZFD3sQat2SQY9FuUjonK652vTTGLj3Cv9t9/5/3/fd+8951xRVbwqWHN6lU+d3oMlgSdePcbrwvLjdStFtUXxJXvuyCsgWHNmhQqtwNiRhAOI2yMqr65brtAGJAMIdCvSaMRpPFgc6PwvQPDEqWVi5Vo0PI66BBrV+M4c2rvz3YgAlSdP+iO/fF2A361L4Iuobgrt23NjaMH3ITWQkp6a/HNoYUla2o97jztfo2QDPhdAMiK5dx8+HX3ufff9nNTUWNdGx0j2cK7Q3qI2MZIDDHiYQhDK5nZ/vF159uz4vwAlN5FrKERFViNmlsUsFiEbtBh4GzMoSyPfnboYtaC1540xZJ1b63+VCFR+4nSGWm0SZFWopKhjcK2ysmHswLivAYEyYCKAiGSFiotajMBL62ie2/zRSRzkn/dVUZH/o6pk9zEbYTbwAMCqlv2Z4EspSJlaWRJel/LcDeSmYG3tVCLmhcA0LIuMOrYFGC9GbxY2f52byLyhyfVroioQ+KSY9cCAGF1jwlmTX6PaDkzBOO07rn+ePpx5clLvjIJrfUfcIIdLdj1S9IBiFhoA8RECLMLMX3bUs8K2ntKtTf2T4plFdb8XCEl6EdF5sZ1c2NZ3GLR00JJvAg0Y7qjSo6o9ChMM8gBARY6G01NK42VHVV596krsNJWPKRXAlUH1cQq71NKM0iHIq2i450mMuRoDnC8kUp/hz1PVIrztXFdIX5LeinvYbWvtX4TYJoUZHjiOhYUXMvwv4xXjXjjnMyc+wfgWqGgQSLTDraL5w4WDhwsHYPv1/jmOOjmishGYHw1HyK9P919O5PUEiGpHS+8sx9AFWFU2hzP9l9w8ozyn/5VF2BLOcA+HEfxVAPwU66iytT7d3+DV8xsnIjcaBrCoXwAAAABJRU5ErkJggg==\"","import React from 'react'\r\nimport Coin from '../Coin/Coin';\r\nimport './Coins.css';\r\n\r\nexport default function Coins(props) {\r\n  const formatter = Intl.NumberFormat('es-US', {\r\n    style: 'currency',\r\n    currency: 'USD'\r\n  });\r\n  const formatedBalance = props.showBalance ? <span>{ formatter.format(props.balance) }</span> : null;\r\n  return (\r\n    <>\r\n      <div className=\"d-flex justify-content-between align-items-center search-container\">\r\n        <input type=\"text\" className=\"search-input\" placeholder=\"Search\" onChange={props.filterCoins} />\r\n        { formatedBalance }\r\n      </div>\r\n      <div className=\"coins-container\">\r\n      <table>\r\n        <tbody>\r\n          { props.coins.map(({id, name, ticker, balance, price}) =>\r\n            <Coin\r\n              id={id}\r\n              name={name}\r\n              ticker={ticker}\r\n              balance={balance}\r\n              price={price}\r\n              key={id}\r\n              showBalance={props.showBalance}\r\n              refreshPrice={props.refreshPrice}\r\n            />)\r\n          }\r\n        </tbody>\r\n      </table>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport FormCheck from 'react-bootstrap/FormCheck';\r\nimport Nav from 'react-bootstrap/Nav';\r\nimport Navbar from 'react-bootstrap/Navbar';\r\nimport './Header.css';\r\n\r\nexport default function Header(props) {\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n      <Navbar.Brand href=\"#home\">Agregator</Navbar.Brand>\r\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n      <Navbar.Collapse id=\"basic-navbar-nav\">\r\n        <Nav className=\"mr-auto\">\r\n          {/* <Nav.Link href=\"#home\">Home</Nav.Link> */}\r\n        </Nav>\r\n        <Nav>\r\n          <FormCheck \r\n            id=\"switchBalance\"\r\n            type=\"switch\"\r\n            checked={props.showBalance}\r\n            onChange={props.handleShowBalance}\r\n            label=\"Balance\"\r\n          />\r\n        </Nav>\r\n      </Navbar.Collapse>\r\n    </Navbar>\r\n  )\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport Coins from './components/Coins/Coins';\r\nimport Header from './components/Header/Header';\r\nimport './App.css';\r\n\r\nconst api = 'https://api.coinpaprika.com/v1';\r\n\r\nfunction App() {\r\n  const [balance, setBalance] = useState(0);\r\n  const [showBalance, setShowBalance] = useState(false);\r\n  const [initialCoins, setInitialCoins] = useState([]);\r\n  const [coins, setCoins] = useState([]);\r\n\r\n  const toggleShowBalance = () => {\r\n    setShowBalance(!showBalance);\r\n  }\r\n\r\n  const getAllCoins = () => {\r\n    return fetch(`${api}/coins`).then(response => response.json());\r\n  }\r\n\r\n  const getCoinById = (coinId) => {\r\n    return fetch(`${api}/ticker/${coinId}`).then(response => response.json());\r\n  }\r\n\r\n  const filterCoins = (event) => {\r\n    const keyword = event.target.value.trim().toLowerCase();\r\n    const filteredCoins = initialCoins.filter(coin => {\r\n      const coinText = `${coin.name.toLowerCase()} ${coin.ticker.toLowerCase()}`;\r\n      return coinText.includes(keyword);\r\n    });\r\n    setCoins(filteredCoins);\r\n  }\r\n\r\n  const updateCoinPrices = async (coins) => {\r\n    const topCoins = coins.slice(0, 10);\r\n    const restCoins = coins.slice(10);\r\n    const prices = await Promise.all(topCoins.map(coin => getCoinById(coin.id)));\r\n    const updatedCoins = topCoins.map((coin, index) => ({\r\n      ...coin,\r\n      price: Number(prices[index].price_usd)\r\n    }));\r\n    setCoins([...updatedCoins, ...restCoins]);\r\n    setInitialCoins([...updatedCoins, ...restCoins]);\r\n    const balances = updatedCoins.map(coin => coin.price ? coin.balance * coin.price : coin.balance);\r\n    setBalance(balances.reduce((a, b) => a + b, 0));\r\n  }\r\n  \r\n  const refreshPrice = async (coinId) => {\r\n    getCoinById(coinId).then(coinData => {\r\n      const updatedCoins = coins.map((coin) => {\r\n        const newCoin = { ...coin };\r\n        if (coin.id === coinId) {\r\n          newCoin.price = Number(coinData.price_usd);\r\n        }\r\n        return newCoin;\r\n      });\r\n      setCoins(updatedCoins);\r\n    });\r\n  }\r\n\r\n  const componentDidMount = () => {\r\n    getAllCoins().then(data => {\r\n      const topCoins = data.slice(0, 100).map(coin => ({\r\n        id: coin.id,\r\n        name: coin.name,\r\n        ticker: coin.symbol,\r\n        balance: 1,\r\n        price: 0\r\n      }));\r\n      setInitialCoins(topCoins);\r\n      setCoins(topCoins);\r\n      updateCoinPrices(topCoins);\r\n    })\r\n    .catch(err => console.log('Get all coins error:', err));\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (initialCoins.length === 0) {\r\n      componentDidMount();\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <Header\r\n        showBalance={showBalance}\r\n        handleShowBalance={toggleShowBalance}\r\n      />\r\n      <Coins\r\n        coins={coins}\r\n        balance={balance}\r\n        showBalance={showBalance}\r\n        refreshPrice={refreshPrice}\r\n        filterCoins={filterCoins}\r\n      />\r\n      {/* <div>Icons made by <a href=\"https://www.flaticon.com/authors/vectors-market\" title=\"Vectors Market\">Vectors Market</a> from <a href=\"https://www.flaticon.com/\" title=\"Flaticon\">www.flaticon.com</a></div> */}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}